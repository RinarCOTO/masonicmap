<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Map with Scroll</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <style>
        body {
            display: flex;
        }
        #map {
            height: 100vh;
            width: 50%;
        }
        #articles {
            width: 50%;
            overflow-y: scroll;
            height: 100vh;
            padding: 20px;
        }
        .article {
            height: 50vh;
            margin: 20px 0;
            padding: 10px;
            border: 1px solid #ccc;
            cursor: pointer;
        }
        .active {
            background-color: #f0f0f0;
        }
    </style>
</head>
<body>
    <div id="map"></div>
    <div id="articles">
        <div class="article" data-id="0">Restaurant 1</div>
        <div class="article" data-id="1">Restaurant 2</div>
        <div class="article" data-id="2">Restaurant 3</div>
        <!-- Add more articles as needed -->
    </div>
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script>
        const map = L.map('map').setView([41.3851, 2.1734], 12); // Coordinates for Barcelona

L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19,
    attribution: 'Â© OpenStreetMap'
}).addTo(map);

const restaurants = [
    { name: "Restaurant 1", coords: [41.3851, 2.1734], description: "Description of Restaurant 1" },
    { name: "Restaurant 2", coords: [41.3925, 2.1649], description: "Description of Restaurant 2" },
    { name: "Restaurant 3", coords: [41.3784, 2.1910], description: "Description of Restaurant 3" },
    // Add more restaurants as needed
];

const markers = restaurants.map(restaurant => {
    const marker = L.marker(restaurant.coords).addTo(map);
    marker.bindPopup(`<b>${restaurant.name}</b><br>${restaurant.description}`);
    return marker;
});

const articles = document.querySelectorAll('.article');

// Function to highlight the active article and move the map
function highlightArticle(index) {
    articles.forEach((article, i) => {
        article.classList.toggle('active', i === index);
    });
    map.setView(restaurants[index].coords, 15);
    markers[index].openPopup();
}

// Scroll event listener
document.getElementById('articles').addEventListener('scroll', () => {
    articles.forEach((article, index) => {
        const rect = article.getBoundingClientRect();
        if (rect.top >= 0 && rect.bottom <= window.innerHeight) {
            highlightArticle(index);
        }
    });
});

    </script>
</body>
</html>
